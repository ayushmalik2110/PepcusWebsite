<!DOCTYPE html>
<html class="no-js" lang = "en-us">
<head>
    <meta charset="utf-8">
    <meta name = "description" http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"> -->
    <link rel="icon" href="images/logo/favicon.ico" type="image/x-icon">
    <title>Pepcus: Our Careers</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.min.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/jquery.fancybox-transitions.css">
    <link rel="stylesheet" href="css/demo.min.css">
    <link rel="stylesheet" type="text/css" href="css/careers.css">
    <style>
        #mosaic {
            position: relative;
        }

        .mosaic_item {
            background: #ccc;
            box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .5);
            position: absolute;
            text-align: center;
        }
    </style>
</head>
<body>
<button id="add_mosaic_item">Add mosaic item</button>
<button id="remove_mosaic_item">Remove mosaic item</button>
<div id="mosaic">
    <div class="mosaic_item"></div>
    <div class="mosaic_item"></div>
    <div class="mosaic_item"></div>
    <div class="mosaic_item"></div>
    <div class="mosaic_item"></div>
    <div class="mosaic_item"></div>
    <div class="mosaic_item"></div>
</div>
<script type='application/javascript' src="js/jquery.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    updateMosaic();
  });

  $(document).on("click", "#add_mosaic_item", function() {
    $("#mosaic").append('<div class="mosaic_item"></div>');
    updateMosaic();
  });

  $(document).on("click", "#remove_mosaic_item", function() {
    $("#mosaic").find(".mosaic_item").last().remove();
    updateMosaic();
  });

  function updateMosaic() {
    var MIW = 100; // Mosaic Item Width

    var last_step = $('.mosaic_item').length % 5;
    var last_iteration = ($('.mosaic_item').length / 5 | 0);

    var buffer = getBuffer();

    function getBuffer() {
      switch (last_step) {
        case 1:
        case 2:
          return MIW;
          break;
        case 3:
        case 4:
          return MIW * 2;
          break;
        case 0:
          return 0;
          break;
      }
    }

    $("#mosaic").css({
      height: (last_iteration) * 3 * MIW + buffer,
    });

    $('.mosaic_item').each(function(index, el) {
      var step = index % 5 + 1;
      var iteration = index / 5 | 0;
      $(this).text(step);
      switch (step) {
        case 1:
          $(el).css({
            top: MIW * 3 * iteration,
            left: 0,
            width: MIW * 10,
            height: MIW,
          });
          break;
        case 2:
          if (((last_step == 4) || (last_step == 2)) && (iteration == last_iteration)) {
            $(el).css({
              top: MIW * 3 * iteration,
              left: MIW * 2,
              width: MIW,
              height: MIW,
            });
          } else {
            $(el).css({
              top: MIW * 3 * iteration,
              left: MIW * 2,
              width: MIW,
              height: MIW * 2,
            });
          }
          break;
        case 3:
          if ((last_step == 3) && (iteration == last_iteration)) {
            $(el).css({
              top: MIW * (3 * iteration + 1),
              left: 0,
              width: MIW * 2,
              height: MIW,
            });
          } else if ((last_step == 4) && (iteration == last_iteration)) {
            $(el).css({
              top: MIW * (3 * iteration + 1),
              left: 0,
              width: MIW,
              height: MIW,
            });
          } else {
            $(el).css({
              top: MIW * (3 * iteration + 1),
              left: 0,
              width: MIW,
              height: MIW * 2,
            });
          }
          break;
        case 4:
          if ((last_step == 1) && (iteration == last_iteration - 1)) {
            $(el).css({
              top: MIW * (3 * iteration + 1),
              left: MIW,
              width: MIW,
              height: MIW * 2,
            });
          } else if ((last_step == 4) && (iteration == last_iteration)) {
            $(el).css({
              top: MIW * (3 * iteration + 1),
              left: MIW,
              width: MIW * 2,
              height: MIW,
            });
          } else {
            $(el).css({
              top: MIW * (3 * iteration + 1),
              left: MIW,
              width: MIW,
              height: MIW,
            });
          }
          break;
        case 5:
          if ((last_step == 1) && (iteration == last_iteration - 1)) {
            $(el).css({
              top: MIW * (3 * iteration + 2),
              left: MIW * 2,
              width: MIW,
              height: MIW * 2,
            });
          } else {
            $(el).css({
              top: MIW * (3 * iteration + 2),
              left: MIW,
              width: MIW * 2,
              height: MIW,
            });
          }
          break;
      }
    });
  }
</script>
</body>
</html>